<style>
    input {
        border: 1px solid #97b5c8;
        background-color: #eff2f9;
    }

    #guardar {
        background-color: #fab43d;
    }

    #volver {
        background-color: #97b5c8;
    }
</style>

<div class="row m-auto w-75 pt-5">

    <form (ngSubmit)="guardar()" [formGroup]="formulario" class="container" autocomplete="off">

        <div class="mx-auto">
            <input id="id" name="id" type="hidden" [value]="formulario.get('id')?.value || -1">
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <label for="nombre" class="form-label">Nombre:</label>
                <input formControlName="nombre" type="text" class="form-control" id="nombre">
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <label for="email" class="form-label">Email:</label>
                <input formControlName="email" type="email" class="form-control" id="email">
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <label for="password" class="form-label">Contraseña:</label>
                <input formControlName="password" type="password" class="form-control" id="password">
            </div>
        </div>        

        <div class="row">
            <div class="col-md-12 mb-3">
                <label for="habilitado" class="form-label">Habilitado:</label>
                <select formControlName="habilitado" class="form-control" id="habilitado">
                    <option [value]="true">Sí</option>
                    <option [value]="false">No</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12 mb-3">
                <label class="form-label">Roles:</label>
                <div class="d-flex flex-wrap gap-2">
                    <div *ngFor="let rol of rolesDisponibles" class="form-check form-check-inline">
                        <input 
                            class="form-check-input"
                            type="checkbox"
                            [id]="'rol_' + rol.id"
                            [value]="rol"
                            (change)="onRoleChange($event, rol)"
                            [checked]="isRoleChecked(rol)"
                        >
                        <label class="form-check-label" [for]="'rol_' + rol.id">
                            {{ rol.nombre }}
                        </label>
                    </div>
                </div>
                <small class="text-muted">Selecciona uno o varios roles para este usuario.</small>
            </div>
        </div>
    </form>

    <div class="d-flex justify-content-end">
        <button id="volver" class="btn me-1 mt-4" routerLink="/admin/gestionar-usuarios">Volver</button>
        <button id="guardar" class="btn ms-1 mt-4" (click)="guardar();">Guardar</button>
    </div>
</div>